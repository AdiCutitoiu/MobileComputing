webpackJsonp([1],{"+zsr":function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("7+uW"),a=r("3EgV"),n=r.n(a),i=(r("QCv7"),r("Xxa5")),l=r.n(i),c=r("exGp"),o=r.n(c),u={props:{playlist:Array,selectedTrack:Object},methods:{selectTrack:function(t){this.$emit("selecttrack",t)},playTrack:function(t){this.$emit("playtrack",t)}}},p={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{class:{playlist:t.playlist},attrs:{height:"300"}},[r("v-list",t._l(t.playlist,function(e,s){return r("v-list-tile",{directives:[{name:"show",rawName:"v-show",value:e.display,expression:"track.display"}],key:e.title,class:[{selected:e===t.selectedTrack},{even:s%2==0}]},[r("v-list-tile-content",{on:{click:function(r){return t.selectTrack(e)},dblclick:function(e){return t.playTrack()}}},[r("v-list-tile-title",[t._v(t._s(t._f("numbers")(s))+" "+t._s(e.artist)+" - "+t._s(e.title))])],1),t._v(" "),r("v-spacer"),t._v("\n      "+t._s(t._f("minutes")(e.howl.duration()))+"\n    ")],1)}),1)],1)},staticRenderFns:[]};var h=r("VU/8")(u,p,!1,function(t){r("+zsr")},"data-v-3f2f2e64",null).exports,v={props:{progress:Number},data:function(){return{volume:.5,muted:!1}},computed:{trackProgress:function(){return 100*this.progress}},created:function(){Howler.volume(this.volume)},methods:{playTrack:function(t){this.$emit("playtrack",t)},pauseTrack:function(){this.$emit("pausetrack")},stopTrack:function(){this.$emit("stoptrack")},skipTrack:function(t){this.$emit("skiptrack",t)},updateVolume:function(t){Howler.volume(t)},toggleMute:function(){Howler.mute(!this.muted),this.muted=!this.muted}}},f={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-toolbar",{staticClass:"pt-2",attrs:{flat:"",height:"40"}},[r("v-progress-linear",{attrs:{height:"40"},model:{value:t.trackProgress,callback:function(e){t.trackProgress=e},expression:"trackProgress"}})],1),t._v(" "),r("v-toolbar",{attrs:{flat:"",height:"40"}},[r("v-btn",{attrs:{flat:"",icon:""},on:{click:t.toggleMute}},[this.muted?t._e():[this.volume>=.5?r("v-icon",[t._v("volume_up")]):this.volume>0?r("v-icon",[t._v("volume_down")]):r("v-icon",[t._v("volume_mute")])],t._v(" "),r("v-icon",{directives:[{name:"show",rawName:"v-show",value:this.muted,expression:"this.muted"}]},[t._v("volume_off")])],2),t._v(" "),r("v-slider",{staticClass:"mt-4 mr-2",attrs:{max:"1",step:"0.1"},on:{input:function(e){return t.updateVolume(t.volume)}},model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}}),t._v("\n    "+t._s(100*this.volume+"%")+"\n  ")],1),t._v(" "),r("v-toolbar",{attrs:{flat:"",height:"90"}},[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{outline:"",fab:"",small:"",color:"light-blue"},on:{click:function(e){return t.skipTrack("prev")}}},[r("v-icon",[t._v("skip_previous")])],1),t._v(" "),r("v-btn",{attrs:{outline:"",fab:"",small:"",color:"light-blue"},on:{click:t.stopTrack}},[r("v-icon",[t._v("stop")])],1),t._v(" "),r("v-btn",{attrs:{outline:"",fab:"",color:"light-blue"},on:{click:function(e){return t.playTrack()}}},[r("v-icon",{attrs:{large:""}},[t._v("play_arrow")])],1),t._v(" "),r("v-btn",{attrs:{outline:"",fab:"",small:"",color:"light-blue"},on:{click:t.pauseTrack}},[r("v-icon",[t._v("pause")])],1),t._v(" "),r("v-btn",{attrs:{outline:"",fab:"",small:"",color:"light-blue"},on:{click:function(e){return t.skipTrack("next")}}},[r("v-icon",[t._v("skip_next")])],1),t._v(" "),r("v-spacer")],1)],1)},staticRenderFns:[]},k=r("VU/8")(v,f,!1,null,null,null).exports,d={props:{trackInfo:Object}},m={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{height:"100"}},[r("v-card-title",[r("h2",[r("span",{directives:[{name:"show",rawName:"v-show",value:t.trackInfo.artist,expression:"trackInfo.artist"}]},[t._v(t._s(t.trackInfo.artist)+" - "+t._s(t.trackInfo.title))])]),t._v(" "),r("v-spacer"),t._v(" "),r("h3",[t._v(t._s(t._f("minutes")(t.trackInfo.seek))+"/"+t._s(t._f("minutes")(t.trackInfo.duration)))])],1)],1)},staticRenderFns:[]},y=r("VU/8")(d,m,!1,null,null,null).exports,_={props:{playlist:Array},data:function(){return{searchString:""}},methods:{searchPlaylist:function(){var t=this;this.playlist.forEach(function(e){t.searchString?e.title.toLowerCase().includes(t.searchString.toLowerCase())||e.artist.toLowerCase().includes(t.searchString.toLowerCase())?e.display=!0:e.display=!1:""!==t.searchString&&null!==t.searchString||(e.display=!0)})}}},g={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-toolbar",{attrs:{flat:""}},[r("v-text-field",{attrs:{clearable:"","prepend-icon":"search",placeholder:"Quick search",width:"100%"},on:{input:t.searchPlaylist},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}})],1)},staticRenderFns:[]},T="https://musicmobilecomputing.herokuapp.com/",b={components:{PlayerPlaylistPanel:h,PlayerControlsBars:k,PlayerInfoPanel:y,PlayerSearchBar:r("VU/8")(_,g,!1,null,null,null).exports},data:function(){return{playlist:[],selectedTrack:null,index:0,playing:!1,seek:0}},computed:{currentTrack:function(){return this.playlist[this.index]},progress:function(){return this.currentTrack?0===this.currentTrack.howl.duration()?0:this.seek/this.currentTrack.howl.duration():0},getTrackInfo:function(){return this.currentTrack?{artist:this.currentTrack.artist,title:this.currentTrack.title,seek:this.seek,duration:this.currentTrack.howl.duration()}:{}}},watch:{playing:function(t){var e=this;this.seek=this.currentTrack.howl.seek();var r=void 0;t?r=setInterval(function(){e.seek=e.currentTrack.howl.seek()},250):clearInterval(r)}},mounted:function(){var t=o()(l.a.mark(function t(){var e,r,s=this;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.get("/");case 3:e=t.sent,r=e.data,console.log(r),this.playlist=r.map(function(t){return{title:t.title,artist:t.artist,howl:new Howl({src:[""+T+t.title],format:"mp3",onend:function(){s.skip("next")}}),display:!0}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(){return t.apply(this,arguments)}}(),methods:{selectTrack:function(t){this.selectedTrack=t},play:function(t){var e=this,r=this.playlist.findIndex(function(t){return t===e.selectedTrack});"number"!=typeof t&&(this.selectedTrack?(this.selectedTrack!=this.currentTrack&&this.stop(),t=r):"number"!=typeof t&&(t=this.index));var s=this.playlist[t].howl;s.playing()||(s.play(),this.selectedTrack=this.playlist[t],this.playing=!0,this.index=t)},pause:function(){this.currentTrack.howl.pause(),this.playing=!1},stop:function(){this.currentTrack.howl.stop(),this.playing=!1},skip:function(t){var e=0;this.playlist.length;"next"===t?(e=this.index+1)>=this.playlist.length&&(e=0):(e=this.index-1)<0&&(e=this.playlist.length-1),this.skipTo(e)},skipTo:function(t){this.currentTrack&&this.currentTrack.howl.stop(),this.play(t)}}},w={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{dark:""}},[r("v-content",{staticClass:"black"},[r("v-container",{staticClass:"ma-0 pa-0",attrs:{fluid:""}},[r("player-search-bar",{attrs:{playlist:t.playlist}}),t._v(" "),r("player-playlist-panel",{attrs:{playlist:t.playlist,selectedTrack:t.selectedTrack},on:{selecttrack:t.selectTrack,playtrack:t.play}}),t._v(" "),r("player-info-panel",{attrs:{trackInfo:t.getTrackInfo}}),t._v(" "),r("player-controls-bars",{attrs:{progress:t.progress},on:{playtrack:t.play,pausetrack:t.pause,stoptrack:t.stop,skiptrack:t.skip}})],1)],1)],1)},staticRenderFns:[]},x=r("VU/8")(b,w,!1,null,null,null).exports,I=r("mtWM"),P=r.n(I),$=r("Rf8U"),C=r.n($);r("k9Ku");s.default.use(n.a),s.default.use(C.a,P.a.create({baseURL:T})),s.default.filter("numbers",function(t){var e=t+1;return e<10?"0"+e+".":e+"."}),s.default.filter("minutes",function(t){if(!t||"number"!=typeof t)return"00:00";var e=parseInt(t/60),r=parseInt(t%60);return t=(e=e<10?"0"+e:e)+":"+(r=r<10?"0"+r:r)}),new s.default({el:"#app",render:function(t){return t(x)}})},QCv7:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ad610b21a59d755e41dd.js.map